@model BookEater.Models.Book

@{
    ViewData["Title"] = "Write a Review";
}

<div class="container py-5">
    <div class="row justify-content-center">
        <div class="col-md-7 text-center">

            <!-- Encabezado Estilo Libro -->
            <div class="mb-4">
                <span style="font-size: 2.5rem;">✍️</span>
                <h2 class="fw-bold mt-2" style="font-family: Georgia, serif;">Write a Review</h2>
                <p class="text-muted">Share your thoughts with the community.</p>
            </div>

            <!-- Información del Libro -->
            <h3 class="display-6 fw-bold mb-4">@Model.Title</h3>

            <form asp-action="WriteReview" method="post">
                <input type="hidden" name="BookId" value="@Model.BookId" />
                <input type="hidden" name="Rating" value="@((int)(Model.Rating ?? 0))" />

                <!-- Visualización del Rating (Ya asignado previamente) -->
                <div class="mb-4 p-3 bg-light rounded-3 d-inline-block">
                    <span class="text-uppercase small text-muted fw-bold d-block mb-1">Rating</span>
                    <span class="fs-4 text-warning">
                        @for (int i = 0; i < (Model.Rating ?? 0); i++)
                        {
                            <span>★</span>
                        }
                    </span>
                    <span class="ms-2 text-muted fw-bold">(@Model.Rating/5)</span>
                </div>

                <!-- Área de Texto Limpia -->
                <div class="mb-4 text-start">
                    <label class="form-label small text-uppercase text-muted fw-bold">Your Opinion</label>
                    <textarea name="Content" class="form-control bg-light border-0" rows="6"
                              placeholder="What did you like? What did you hate? Start typing..." required></textarea>
                </div>

                <!-- Botones Simples -->
                <div class="d-grid gap-2 col-8 mx-auto">
                    <button type="submit" class="btn btn-dark btn-lg rounded-pill">Publish Review</button>
                    <a asp-action="Index" class="btn btn-link text-muted text-decoration-none mt-2">Cancel</a>
                </div>
            </form>

        </div>
    </div>
</div>